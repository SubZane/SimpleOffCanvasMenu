/*! flypanels - v2.1.0 - 2017-07-14
* https://github.com/SubZane/flyPanels
* Copyright (c) 2017 Andreas Norman; Licensed MIT */

!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.flyPanels=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e,f={},g=!!document.querySelector&&!!a.addEventListener,h=document.documentElement.clientHeight,i=(document.querySelector(".flypanels-left").clientWidth,document.querySelector(".flypanels-topbar").clientHeight,{transitiontime:500,container:".flypanels-container",initClass:"js-flyPanels",useKeyboardEvents:!0,onInit:function(){},onOpen:function(){},onClose:function(){},onOpenLeft:function(){},onCloseLeft:function(){},onOpenRight:function(){},onCloseRight:function(){},afterWindowResize:function(){},OnAttachEvents:function(){},onWindowResize:function(){},onDestroy:function(){}}),j=function(){var a=document.createElement("div");a.className="scrollbar-measure",document.body.appendChild(a),e=a.offsetWidth-a.clientWidth,document.body.removeChild(a)},k=function(){document.querySelector(".flypanels-left").style.height=h+"px",document.querySelector(".flypanels-right").style.height=h+"px";var a=document.querySelector(".flypanels-overlay");a&&(a.style.height=h)},l=function(){return document.body.scrollHeight>document.documentElement.clientHeight},m=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},n=function(){x(),v(),t()},o=function(){document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",E("onCloseLeft")},p=function(){document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",E("onCloseRight")},q=function(){!0===l()&&!1===m()&&(document.querySelector(".flypanels-content").style.marginRight=e+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),E("onOpenLeft")},r=function(){!0===l()&&!1===m()&&(document.querySelector(".flypanels-content").style.marginRight=e+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),E("onOpenRight")},s=function(){var a=document.createElement("div");a.classList.add("overlay"),a.setAttribute("id","flypanels-overlay"),document.querySelector(".flypanels-content").appendChild(a),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(a){document.querySelector("#flypanels-overlay").addEventListener(a,function(a){n(),a.preventDefault()})}),E("onOpen")},t=function(){var a=document.querySelector("#flypanels-overlay");null!==a&&(a.classList.add("closing"),setTimeout(function(){a&&a.remove()},b.transitiontime)),E("onClose")},u=function(a){d.classList.add("openright"),D(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-right").querySelector('[data-panel="'+a+'"]').style.display="block",document.querySelector(".flypanels-right").querySelector('[data-panel="'+a+'"]').setAttribute("aria-hidden","false"),setTimeout(function(){document.querySelector(".flypanels-right").querySelector('[data-panel="'+a+'"]').setAttribute("tabindex","-1")},b.transitiontime),r(),s()},v=function(){t(),d.classList.add("closing"),D(document.querySelector(".flypanels-button-right"),!1),setTimeout(function(){d.classList.remove("openright"),d.classList.remove("closing");var a=document.querySelectorAll(".flypanels-right .panelcontent");G(a,function(a,b){a.style.display="none",a.setAttribute("aria-hidden","true"),a.removeAttribute("tabindex")}),p()},b.transitiontime)},w=function(a){d.classList.add("openleft"),D(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-left").querySelector('[data-panel="'+a+'"]').style.display="block",document.querySelector(".flypanels-left").querySelector('[data-panel="'+a+'"]').setAttribute("aria-hidden","false"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+a+'"]').setAttribute("tabindex","-1"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+a+'"]').focus(),q(),s()},x=function(){t(),d.classList.add("closing"),D(document.querySelector(".flypanels-button-left"),!1),setTimeout(function(){d.classList.remove("closing"),d.classList.remove("openleft");var a=document.querySelectorAll(".flypanels-left .panelcontent");G(a,function(a,b){a.style.display="none",a.setAttribute("aria-hidden","true"),a.removeAttribute("tabindex")}),o()},b.transitiontime)},y=function(){h=window.innerHeight,k(),E("afterWindowResize")},z=function(){var a=document.querySelectorAll(".panelcontent");G(a,function(a,b){a.addEventListener("touchmove",function(b){a.scrollHeight<=parseInt(h,10)&&b.preventDefault()})});var b=document.querySelectorAll(".flypanels-button-left");G(b,function(a,b){a.addEventListener("click",function(b){var c=a.getAttribute("data-panel");C(document.querySelector(".flypanels-container"),"openleft")?x():C(document.querySelector(".flypanels-container"),"openright")?v():w(c)})});var c=document.querySelectorAll(".flypanels-button-right");G(c,function(a,b){a.addEventListener("click",function(b){var c=a.getAttribute("data-panel");C(document.querySelector(".flypanels-container"),"openright")?v():C(document.querySelector(".flypanels-container"),"openleft")?x():u(c)})}),window.onresize=A,window.addEventListener("orientationchange",function(){k()}),E("OnAttachEvents")},A=function(){var a;clearTimeout(a),a=setTimeout(y,100),E("onWindowResize")},B=function(){window.onkeydown=function(a){27===a.keyCode&&(x(),v())}},C=function(a,b){return!(void 0===a.classList||!a.classList.contains(b))},D=function(a,b){b?a.setAttribute("aria-label",a.getAttribute("data-aria-label-active")):a.setAttribute("aria-label",a.getAttribute("data-aria-label"))},E=function(a){void 0!==b[a]&&b[a].call(d)},F=function(a,b){var c={};return G(a,function(b,d){c[d]=a[d]}),G(b,function(a,d){c[d]=b[d]}),c},G=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)};return f.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",eventHandler,!1),b=null,c=null,E("onDestroy"))},f.init=function(a){g&&(f.destroy(),j(),b=F(i,a||{}),d=document.querySelector(b.container),k(),!0===b.useKeyboardEvents&&B(),z(),d.classList.remove("preload"),E("onInit"))},f.closePanels=function(){n()},f}),function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.fpm_search=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e,f={},g=!!document.querySelector&&!!a.addEventListener,h={saveQueryCookie:!1,searchPanel:document.querySelector('.offcanvas [data-panel="search"]'),onInit:function(){},onDestroy:function(){},onEmptySearchResult:function(){},onSearchError:function(){},onSearchSuccess:function(){}},i=function(a){l("hide"),b.searchPanel.querySelector(".flypanels-searchresult").innerHTML="",b.searchPanel.querySelector(".resultinfo .query").innerHTML=a,b.searchPanel.querySelector(".resultinfo .num").innerHTML=0;var c=b.searchPanel.querySelector(".searchbox").getAttribute("data-searchurl");c=c+"&q="+a;var d=new XMLHttpRequest;d.open("GET",c,!0),d.onload=function(){if(d.status>=200&&d.status<400){var c=k(d.response);if(!1!==c){var f=c.Items.length;if(f>0){!0===b.saveQueryCookie&&n.set("searchQuery",a,null,"/");var g=j(c.Items);b.searchPanel.querySelector(".resultinfo .query").innerHTML=a,b.searchPanel.querySelector(".resultinfo .num").innerHTML=f,b.searchPanel.querySelector(".flypanels-searchresult").innerHTML=g,e=document.querySelectorAll(".flypanels-right .searchbutton, #flypanels-searchfield, .flypanels-searchresult ul li a"),m("hide"),b.searchPanel.querySelector(".resultinfo").removeAttribute("hidden"),b.searchPanel.querySelector(".resultinfo").setAttribute("aria-hidden","false"),b.searchPanel.querySelector(".flypanels-searchresult").removeAttribute("hidden"),b.searchPanel.querySelector(".flypanels-searchresult").setAttribute("aria-hidden","false"),s("onSearchSuccess")}else s("onEmptySearchResult"),!0===b.saveQueryCookie&&n.remove("searchQuery","/"),m("hide"),l("show")}else s("onEmptySearchResult"),!0===b.saveQueryCookie&&n.remove("searchQuery","/"),m("hide"),l("show")}else l("show"),m("hide"),s("onSearchError")},d.onerror=function(){l("show")},d.send()},j=function(a){var b="<ul>";for(var c in a)"Page"===a[c].Type?b+='<li><a href="'+a[c].LinkUrl+'"><span class="type"><i class="fa page"></i></span><span class="link">'+a[c].Header+"</span></a>":b+='<li><a href="'+a[c].LinkUrl+'"><span class="type"><i class="fa doc"></i></span><span class="link">'+a[c].Header+"</span></a>";return b+="</ul>"},k=function(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b&&null!==b)return b}catch(a){}return console.warn("Error parsing JSON file"),!1},l=function(a){"hide"===a?(b.searchPanel.querySelector(".errormsg").setAttribute("hidden",""),b.searchPanel.querySelector(".errormsg").setAttribute("aria-hidden","true")):(b.searchPanel.querySelector(".errormsg").removeAttribute("hidden"),b.searchPanel.querySelector(".errormsg").setAttribute("aria-hidden","false"))},m=function(a){"hide"===a?b.searchPanel.querySelector(".errormsg").setAttribute("hidden",""):b.searchPanel.querySelector(".errormsg").removeAttribute("hidden")},n={get:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=c===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},remove:function(a,b,c){return!!this.has(a)&&(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0)},has:function(a){return!!a&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;c<b;c++)a[c]=decodeURIComponent(a[c]);return a}},o=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},p=function(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))},q=function(){e=e||document.querySelectorAll("#flypanels-searchfield, .flypanels-right .searchbutton"),document.onkeydown=function(a){r(document.querySelector("body"),"flypanels-open")&&r(document.querySelector(".flypanels-container"),"openright")&&9===a.keyCode&&(a.shiftKey?(console.log(Array.prototype.indexOf.call(e,a.target)),0===Array.prototype.indexOf.call(e,a.target)&&(e[e.length-1].focus(),a.preventDefault())):-1===Array.prototype.indexOf.call(e,a.target)?(e[0].focus(),a.preventDefault()):Array.prototype.indexOf.call(e,a.target)+1===e.length&&(e[0].focus(),a.preventDefault()))}},r=function(a,b){return!(void 0===a.classList||!a.classList.contains(b))},s=function(a){void 0!==b[a]&&b[a].call(d)},t=function(a,b){var c={};return u(a,function(b,d){c[d]=a[d]}),u(b,function(a,d){c[d]=b[d]}),c},u=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)};return f.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",eventHandler,!1),b=null,c=null,s("onDestroy"))},f.init=function(a){g&&(f.destroy(),b=t(h,a||{}),d=document.querySelector(b.container),(o()||p())&&document.querySelector(".flypanels-searchresult").classList.add("touch"),b.searchPanel.querySelector(".searchbutton").addEventListener("click",function(a){a.preventDefault(),m("show"),i(b.searchPanel.querySelector(".searchbox input").value)}),b.searchPanel.querySelector(".searchbox input").addEventListener("keydown",function(a){13===a.which&&(m("show"),i(this.value))}),!0===n.has("searchQuery")&&!0===b.saveQueryCookie&&i(n.get("searchQuery")),q(),s("onInit"))},f}),function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.fpm_treemenu=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e={},f=!!document.querySelector&&!!a.addEventListener,g={expandHandler:"a.expand",onInit:function(){},onDestroy:function(){},OnExpandOpen:function(){},OnExpandClose:function(){}},h=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},i=function(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))},j=function(a,b){return!(void 0===a.classList||!a.classList.contains(b))},k=function(){var a=document.querySelectorAll(".flypanels-treemenu a, .flypanels-button-left");window.onkeydown=function(b){j(document.querySelector("body"),"flypanels-open")&&j(document.querySelector(".flypanels-container"),"openleft")&&9===b.keyCode&&(b.shiftKey?0===Array.prototype.indexOf.call(a,b.target)&&(a[a.length-1].focus(),b.preventDefault()):(console.log(b.target),console.log(a[Array.prototype.indexOf.call(a,b.target)]),-1===Array.prototype.indexOf.call(a,b.target)&&(a[0].focus(),b.preventDefault())))}},l=function(a){"false"===a.getAttribute("aria-expanded")?(a.setAttribute("aria-expanded","true"),m(a.querySelector("a.expand"),!0),a.querySelector("ul").setAttribute("aria-hidden","false"),a.querySelector("ul").removeAttribute("hidden"),setTimeout(function(){a.classList.toggle("expanded")},b.transitiontime),n("OnExpandOpen")):(a.setAttribute("aria-expanded","false"),m(a.querySelector("a.expand"),!1),a.querySelector("ul").setAttribute("aria-hidden","true"),a.querySelector("ul").setAttribute("hidden",""),setTimeout(function(){a.classList.toggle("expanded")},b.transitiontime),n("OnExpandClose"))},m=function(a,b){b?a.setAttribute("aria-label",a.getAttribute("data-aria-label-active")):a.setAttribute("aria-label",a.getAttribute("data-aria-label"))},n=function(a){void 0!==b[a]&&b[a].call(d)},o=function(a,b){var c={};return p(a,function(b,d){c[d]=a[d]}),p(b,function(a,d){c[d]=b[d]}),c},p=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)};return e.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",eventHandler,!1),b=null,c=null,n("onDestroy"))},e.init=function(a){if(f){e.destroy(),b=o(g,a||{}),d=document.querySelector(b.container),(h()||i())&&document.querySelector(".flypanels-treemenu").classList.add("touch");var c=document.querySelectorAll(".flypanels-treemenu li.haschildren "+b.expandHandler);p(c,function(a,b){a.addEventListener("click",function(a){l(this.parentElement.parentElement),a.preventDefault()})}),k(),n("onInit")}},e});