/*! flypanels - v2.1.0 - 2017-06-22
* https://github.com/SubZane/flyPanels
* Copyright (c) 2017 Andreas Norman; Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.flyPanels=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e,f={},g=!!document.querySelector&&!!a.addEventListener,h=document.documentElement.clientHeight,i=(document.querySelector(".flypanels-left").clientWidth,!0),j=(document.querySelector(".flypanels-topbar").clientHeight,{transitiontime:200,container:".flypanels-container",initClass:"js-flyPanels",onInit:function(){},onOpen:function(){},onClose:function(){},onOpenLeft:function(){},onCloseLeft:function(){},onOpenRight:function(){},onCloseRight:function(){},afterWindowResize:function(){},OnAttachEvents:function(){},onWindowResize:function(){},onDestroy:function(){}}),k=function(){var a=document.createElement("div");a.className="scrollbar-measure",document.body.appendChild(a),e=a.offsetWidth-a.clientWidth,document.body.removeChild(a)},l=function(){document.querySelector(".flypanels-left").style.height=h+"px",document.querySelector(".flypanels-right").style.height=h+"px";var a=document.querySelector(".flypanels-overlay");a&&(a.style.height=h)},m=function(){var a=document.body.scrollHeight,b=document.documentElement.clientHeight,c=a>b;return c},n=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:!1},o=function(){y(),w(),u()},p=function(){document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",D("onCloseLeft")},q=function(){document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",D("onCloseRight")},r=function(){m()===!0&&n()===!1&&(document.querySelector(".flypanels-content").style.marginRight=e+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),D("onOpenLeft")},s=function(){m()===!0&&n()===!1&&(document.querySelector(".flypanels-content").style.marginRight=e+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),D("onOpenRight")},t=function(){var a=document.createElement("div");a.classList.add("overlay"),a.setAttribute("id","flypanels-overlay"),document.querySelector(".flypanels-content").appendChild(a),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(a){document.querySelector("#flypanels-overlay").addEventListener(a,function(a){o(),a.preventDefault()})}),D("onOpen")},u=function(){var a=document.querySelector("#flypanels-overlay");null!==a&&(a.classList.add("closing"),setTimeout(function(){a&&a.remove()},b.transitiontime)),D("onClose")},v=function(a){d.classList.add("openright"),document.querySelector(".flypanels-right").querySelector('[data-panel="'+a+'"]').style.display="block",s(),t()},w=function(){u(),d.classList.add("closing"),setTimeout(function(){d.classList.remove("openright"),d.classList.remove("closing");var a=document.querySelectorAll(".flypanels-right .panelcontent");F(a,function(a,b){a.style.display="none"}),q()},b.transitiontime)},x=function(a){d.classList.add("openleft"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+a+'"]').style.display="block",r(),t()},y=function(){u(),d.classList.add("closing"),setTimeout(function(){d.classList.remove("closing"),d.classList.remove("openleft");var a=document.querySelectorAll(".flypanels-left .panelcontent");F(a,function(a,b){a.style.display="none"}),p()},b.transitiontime)},z=function(){h=window.innerHeight,l(),D("afterWindowResize")},A=function(){var a=document.querySelectorAll(".panelcontent");F(a,function(a,b){a.addEventListener("touchmove",function(b){a.scrollHeight<=parseInt(h,10)&&b.preventDefault()})}),document.querySelector(".flypanels-button-left").addEventListener("click",function(){var a=this.getAttribute("data-panel");C(document.querySelector(".flypanels-container"),"openleft")?y():C(document.querySelector(".flypanels-container"),"openright")?w():x(a)}),document.querySelector(".flypanels-button-right").addEventListener("click",function(){var a=this.getAttribute("data-panel");C(document.querySelector(".flypanels-container"),"openright")?w():C(document.querySelector(".flypanels-container"),"openleft")?y():v(a)}),i===!0&&(window.onresize=B),window.addEventListener("orientationchange",function(){l()}),D("OnAttachEvents")},B=function(){var a;clearTimeout(a),a=setTimeout(z,100),D("onWindowResize")},C=function(a,b){return"undefined"!=typeof a.classList&&a.classList.contains(b)?!0:!1},D=function(a){void 0!==b[a]&&b[a].call(d)},E=function(a,b){var c={};return F(a,function(b,d){c[d]=a[d]}),F(b,function(a,d){c[d]=b[d]}),c},F=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)};return f.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",eventHandler,!1),b=null,c=null,D("onDestroy"))},f.init=function(a){g&&(f.destroy(),k(),b=E(j,a||{}),d=document.querySelector(b.container),l(),A(),d.classList.remove("preload"),D("onInit"))},f.closePanels=function(){o()},f});