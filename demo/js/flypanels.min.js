/*! flypanels - v3.1.1 - 2019-03-06
* https://www.andreasnorman.com/flyPanels/
* Copyright (c) 2019 ; Licensed  */

!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.flyPanels=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var i,c,r,a={},s=!!document.querySelector&&!!e.addEventListener,u=document.documentElement.clientHeight,d=(document.querySelector(".flypanels-left").clientWidth,document.querySelector(".flypanels-topbar").clientHeight,{transitiontime:500,container:".flypanels-container",initClass:"js-flyPanels",useKeyboardEvents:!0,onInit:function(){},onOpen:function(){},onClose:function(){},onOpenLeft:function(){},onCloseLeft:function(){},onOpenRight:function(){},onCloseRight:function(){},afterWindowResize:function(){},OnAttachEvents:function(){},onWindowResize:function(){},onDestroy:function(){}}),y=function(){document.querySelector(".flypanels-left").style.height=u+"px",document.querySelector(".flypanels-right").style.height=u+"px";var e=document.querySelector(".flypanels-overlay");e&&(e.style.height=u)},t=function(){var e=document.body.scrollHeight;return document.documentElement.clientHeight<e},n=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},o=function(){v(),m(),f()},l=function(){var e=document.createElement("div");e.classList.add("overlay"),e.setAttribute("id","flypanels-overlay"),document.querySelector(".flypanels-content").appendChild(e),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(e){document.querySelector("#flypanels-overlay").addEventListener(e,function(e){o(),e.preventDefault()})}),L("onOpen")},f=function(){var e=document.querySelector("#flypanels-overlay");null!==e&&(e.classList.add("closing"),setTimeout(function(){e&&e.remove()},i.transitiontime)),L("onClose")},p=function(e){c.classList.add("openright"),q(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-right").querySelector('[data-panel="'+e+'"]').style.display="block",document.querySelector(".flypanels-right").querySelector('[data-panel="'+e+'"]').setAttribute("aria-hidden","false"),setTimeout(function(){document.querySelector(".flypanels-right").querySelector('[data-panel="'+e+'"]').setAttribute("tabindex","-1")},i.transitiontime),!0===t()&&!1===n()&&(document.querySelector(".flypanels-content").style.marginRight=r+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),L("onOpenRight"),l()},m=function(){f(),c.classList.add("closing"),q(document.querySelector(".flypanels-button-right"),!1),setTimeout(function(){c.classList.remove("openright"),c.classList.remove("closing");var e=document.querySelectorAll(".flypanels-right .panelcontent");A(e,function(e,t){e.style.display="none",e.setAttribute("aria-hidden","true"),e.removeAttribute("tabindex")}),document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",L("onCloseRight")},i.transitiontime)},h=function(e){c.classList.add("openleft"),q(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-left").querySelector('[data-panel="'+e+'"]').style.display="block",document.querySelector(".flypanels-left").querySelector('[data-panel="'+e+'"]').setAttribute("aria-hidden","false"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+e+'"]').setAttribute("tabindex","-1"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+e+'"]').focus(),!0===t()&&!1===n()&&(document.querySelector(".flypanels-content").style.marginRight=r+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),L("onOpenLeft"),l()},v=function(){f(),c.classList.add("closing"),q(document.querySelector(".flypanels-button-left"),!1),setTimeout(function(){c.classList.remove("closing"),c.classList.remove("openleft");var e=document.querySelectorAll(".flypanels-left .panelcontent");A(e,function(e,t){e.style.display="none",e.setAttribute("aria-hidden","true"),e.removeAttribute("tabindex")}),document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",L("onCloseLeft")},i.transitiontime)},b=function(){u=window.innerHeight,y(),L("afterWindowResize")},g=function(){var e;clearTimeout(e),e=setTimeout(b,100),L("onWindowResize")},S=function(e,t){return!(void 0===e.classList||!e.classList.contains(t))},q=function(e,t){t?e.setAttribute("aria-label",e.getAttribute("data-aria-label-active")):e.setAttribute("aria-label",e.getAttribute("data-aria-label"))},L=function(e){void 0!==i[e]&&i[e].call(c)},A=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var l=0,i=e.length;l<i;l++)t.call(n,e[l],l,e)};return a.destroy=function(){i&&(document.documentElement.classList.remove(i.initClass),document.removeEventListener("click",eventHandler,!1),i=null,L("onDestroy"))},a.init=function(e){var t,n,o,l;s&&(a.destroy(),(t=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t),o=e||{},l={},A(n=d,function(e,t){l[t]=n[t]}),A(o,function(e,t){l[t]=o[t]}),i=l,c=document.querySelector(i.container),y(),!0===i.useKeyboardEvents&&document.addEventListener("keydown",function(e){27===e.keyCode&&(v(),m())}),function(){var e=document.querySelectorAll(".panelcontent");A(e,function(t,e){t.addEventListener("touchmove",function(e){t.scrollHeight<=parseInt(u,10)&&e.preventDefault()})});var t=document.querySelectorAll(".flypanels-button-left");A(t,function(n,e){n.addEventListener("click",function(e){var t=n.getAttribute("data-panel");S(document.querySelector(".flypanels-container"),"openleft")?v():S(document.querySelector(".flypanels-container"),"openright")?m():h(t)})});var n=document.querySelectorAll(".flypanels-button-right");A(n,function(n,e){n.addEventListener("click",function(e){var t=n.getAttribute("data-panel");S(document.querySelector(".flypanels-container"),"openright")?m():S(document.querySelector(".flypanels-container"),"openleft")?v():p(t)})}),window.onresize=g,window.addEventListener("orientationchange",function(){y()}),L("OnAttachEvents")}(),c.classList.remove("preload"),L("onInit"))},a.closePanels=function(){o()},a});