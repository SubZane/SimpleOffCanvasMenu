/*! flypanels - v2.1.0 - 2017-07-05
* https://github.com/SubZane/flyPanels
* Copyright (c) 2017 Andreas Norman; Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.fpm_treemenu=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e={},f=!!document.querySelector&&!!a.addEventListener,g=document.querySelector(".flypanels-topbar").clientHeight,h={expandHandler:"a.expand",onInit:function(){},onDestroy:function(){}},i=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1?!0:!1},j=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)?!0:!1},k=function(a){"false"===a.getAttribute("aria-expanded")?a.setAttribute("aria-expanded","true"):a.setAttribute("aria-expanded","false")},l=function(a){void 0!==b[a]&&b[a].call(d)},m=function(a,b){var c={};return n(a,function(b,d){c[d]=a[d]}),n(b,function(a,d){c[d]=b[d]}),c},n=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)};return e.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",eventHandler,!1),b=null,c=null,l("onDestroy"))},e.init=function(a){if(f){e.destroy(),b=m(h,a||{}),d=document.querySelector(b.container);innerHeight-g;(i()||j())&&document.querySelector(".flypanels-treemenu").classList.add("touch");var c=document.querySelectorAll(".flypanels-treemenu li.haschildren "+b.expandHandler);n(c,function(a,b){a.addEventListener("click",function(a){this.parentElement.parentElement.classList.toggle("expanded"),k(this.parentElement.parentElement),a.preventDefault()})}),l("onInit")}},e});