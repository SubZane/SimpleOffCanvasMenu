!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.flyPanels=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function y(){document.querySelector(".flypanels-left").style.height=n+"px",document.querySelector(".flypanels-right").style.height=n+"px";var e=document.querySelector(".flypanels-overlay");e&&(e.style.height=n)}function p(){var e=document.body.scrollHeight;return document.documentElement.clientHeight<e}function h(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function t(){a(),l(),g()}function l(){g(),u.classList.add("closing"),i(document.querySelector(".flypanels-button-right"),!1),setTimeout(function(){u.classList.remove("openright"),u.classList.remove("closing");var e=document.querySelectorAll(".flypanels-right .panelcontent");c(e,function(e,t){e.style.display="none",e.setAttribute("aria-hidden","true"),e.removeAttribute("tabindex")}),document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",f("onCloseRight")},s.transitiontime)}function a(){g(),u.classList.add("closing"),i(document.querySelector(".flypanels-button-left"),!1),setTimeout(function(){u.classList.remove("closing"),u.classList.remove("openleft");var e=document.querySelectorAll(".flypanels-left .panelcontent");c(e,function(e,t){e.style.display="none",e.setAttribute("aria-hidden","true"),e.removeAttribute("tabindex")}),document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",f("onCloseLeft")},s.transitiontime)}function m(){var e=document.querySelectorAll(".panelcontent"),e=(c(e,function(t,e){t.addEventListener("touchmove",function(e){t.scrollHeight<=parseInt(n,10)&&e.preventDefault()})}),document.querySelectorAll(".flypanels-button-left")),e=(c(e,function(n,e){n.addEventListener("click",function(e){var t=n.getAttribute("data-panel");o(document.querySelector(".flypanels-container"),"openleft")?a():o(document.querySelector(".flypanels-container"),"openright")?l():(u.classList.add("openleft"),i(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').style.display="block",document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').setAttribute("aria-hidden","false"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').setAttribute("tabindex","-1"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').focus(),!0===p()&&!1===h()&&(document.querySelector(".flypanels-content").style.marginRight=S+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),f("onOpenLeft"),v())})}),document.querySelectorAll(".flypanels-button-right"));c(e,function(r,e){r.addEventListener("click",function(e){var t,n=r.getAttribute("data-panel");o(document.querySelector(".flypanels-container"),"openright")?l():o(document.querySelector(".flypanels-container"),"openleft")?a():(t=n,u.classList.add("openright"),i(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-right").querySelector('[data-panel="'+t+'"]').style.display="block",document.querySelector(".flypanels-right").querySelector('[data-panel="'+t+'"]').setAttribute("aria-hidden","false"),setTimeout(function(){document.querySelector(".flypanels-right").querySelector('[data-panel="'+t+'"]').setAttribute("tabindex","-1")},s.transitiontime),!0===p()&&!1===h()&&(document.querySelector(".flypanels-content").style.marginRight=S+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),f("onOpenRight"),v())})}),window.onresize=r,window.addEventListener("orientationchange",function(){y()}),f("OnAttachEvents")}function r(){clearTimeout(void 0),setTimeout(L,100),f("onWindowResize")}function o(e,t){return void 0!==e.classList&&e.classList.contains(t)}function v(){var e=document.createElement("div");e.classList.add("overlay"),e.setAttribute("id","flypanels-overlay"),document.querySelector(".flypanels-content").appendChild(e),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(e){document.querySelector("#flypanels-overlay").addEventListener(e,function(e){t(),e.preventDefault()})}),f("onOpen")}function g(){var e=document.querySelector("#flypanels-overlay");null!==e&&(e.classList.add("closing"),setTimeout(function(){e&&e.remove()},s.transitiontime)),f("onClose")}function i(e,t){t?e.setAttribute("aria-label",e.getAttribute("data-aria-label-active")):e.setAttribute("aria-label",e.getAttribute("data-aria-label"))}function c(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);else for(var o=0,l=e.length;o<l;o++)t.call(n,e[o],o,e)}var s,u,S,d={},b=!!document.querySelector&&!!e.addEventListener,n=document.documentElement.clientHeight,q=(document.querySelector(".flypanels-left").clientWidth,document.querySelector(".flypanels-topbar").clientHeight,{transitiontime:500,container:".flypanels-container",initClass:"js-flyPanels",useKeyboardEvents:!0,onInit:function(){},onOpen:function(){},onClose:function(){},onOpenLeft:function(){},onCloseLeft:function(){},onOpenRight:function(){},onCloseRight:function(){},afterWindowResize:function(){},OnAttachEvents:function(){},onWindowResize:function(){},onDestroy:function(){}}),L=function(){n=window.innerHeight,y(),f("afterWindowResize")},f=function(e){void 0!==s[e]&&s[e].call(u)};return d.destroy=function(){s&&(document.documentElement.classList.remove(s.initClass),document.removeEventListener("click",eventHandler,!1),s=null,f("onDestroy"))},d.init=function(e){var t,n,r,o;b&&(d.destroy(),(t=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(t),S=t.offsetWidth-t.clientWidth,document.body.removeChild(t),r=e||{},o={},c(n=q,function(e,t){o[t]=n[t]}),c(r,function(e,t){o[t]=r[t]}),s=o,u=document.querySelector(s.container),y(),!0===s.useKeyboardEvents&&document.addEventListener("keydown",function(e){27===e.keyCode&&(a(),l())}),m(),u.classList.remove("preload"),f("onInit"))},d.closePanels=function(){t()},d}),function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.fpm_search=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function t(n){o("hide"),s.searchPanel.querySelector(".flypanels-searchresult").innerHTML="",s.searchPanel.querySelector(".resultinfo .query").innerHTML=n,s.searchPanel.querySelector(".resultinfo .num").innerHTML=0;var e=s.searchPanel.querySelector(".searchbox").getAttribute("data-searchurl")+"&q="+n,r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){var e,t;200<=r.status&&r.status<400?!1!==(t=function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t&&null!==t)return t}catch(e){}return console.warn("Error parsing JSON file"),!1}(r.response))&&0<(e=t.Items.length)?(!0===s.saveQueryCookie&&f.set("searchQuery",n,null,"/"),t=function(e){var t,n="<ul>";for(t in e)"Page"===e[t].Type?n+='<li><a href="'+e[t].LinkUrl+'"><span class="type"><i class="fa page"></i></span><span class="link">'+e[t].Header+"</span></a>":n+='<li><a href="'+e[t].LinkUrl+'"><span class="type"><i class="fa doc"></i></span><span class="link">'+e[t].Header+"</span></a>";return n+"</ul>"}(t.Items),s.searchPanel.querySelector(".resultinfo .query").innerHTML=n,s.searchPanel.querySelector(".resultinfo .num").innerHTML=e,s.searchPanel.querySelector(".flypanels-searchresult").innerHTML=t,u=document.querySelectorAll(".flypanels-button-right, .flypanels-right .searchbutton, #flypanels-searchfield, .flypanels-searchresult ul li a"),l("hide"),s.searchPanel.querySelector(".resultinfo").removeAttribute("hidden"),s.searchPanel.querySelector(".resultinfo").setAttribute("aria-hidden","false"),s.searchPanel.querySelector(".flypanels-searchresult").removeAttribute("hidden"),s.searchPanel.querySelector(".flypanels-searchresult").setAttribute("aria-hidden","false"),i("onSearchSuccess")):(i("onEmptySearchResult"),!0===s.saveQueryCookie&&f.remove("searchQuery","/"),l("hide"),o("show")):(o("show"),l("hide"),i("onSearchError"))},r.onerror=function(){o("show")},r.send()}function o(e){"hide"===e?(s.searchPanel.querySelector(".errormsg").setAttribute("hidden",""),s.searchPanel.querySelector(".errormsg").setAttribute("aria-hidden","true")):(s.searchPanel.querySelector(".errormsg").removeAttribute("hidden"),s.searchPanel.querySelector(".errormsg").setAttribute("aria-hidden","false"))}function l(e){"hide"===e?s.searchPanel.querySelector(".errormsg").setAttribute("hidden",""):s.searchPanel.querySelector(".errormsg").removeAttribute("hidden")}function a(e,t){return void 0!==e.classList&&e.classList.contains(t)}function i(e){void 0!==s[e]&&s[e].call(y)}function c(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);else for(var o=0,l=e.length;o<l;o++)t.call(n,e[o],o,e)}var s,y,u,d={},p=!!document.querySelector&&!!e.addEventListener,h={saveQueryCookie:!1,searchPanel:document.querySelector('.offcanvas [data-panel="search"]'),onInit:function(){},onDestroy:function(){},onEmptySearchResult:function(){},onSearchError:function(){},onSearchSuccess:function(){}},f={get:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(e,t,n,r,o,l){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(o?"; domain="+o:"")+(r?"; path="+r:"")+(l?"; secure":""),!0},remove:function(e,t,n){return!!this.has(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},has:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};return d.destroy=function(){s&&(document.documentElement.classList.remove(s.initClass),document.removeEventListener("click",eventHandler,!1),s=null,i("onDestroy"))},d.init=function(e){var n,r,o;p&&(d.destroy(),r=e||{},o={},c(n=h,function(e,t){o[t]=n[t]}),c(r,function(e,t){o[t]=r[t]}),s=o,y=document.querySelector(s.container),(-1<navigator.userAgent.toLowerCase().indexOf("android")||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&document.querySelector(".flypanels-searchresult").classList.add("touch"),s.searchPanel.querySelector(".searchbutton").addEventListener("click",function(e){e.preventDefault(),l("show"),t(s.searchPanel.querySelector(".searchbox input").value)}),s.searchPanel.querySelector(".searchbox input").addEventListener("keydown",function(e){13===e.which&&(l("show"),t(this.value))}),!0===f.has("searchQuery")&&!0===s.saveQueryCookie&&t(f.get("searchQuery")),u=u||document.querySelectorAll("#flypanels-searchfield, .flypanels-right .searchbutton, .flypanels-button-right"),document.addEventListener("keydown",function(e){a(document.querySelector("body"),"flypanels-open")&&a(document.querySelector(".flypanels-container"),"openright")&&9===e.keyCode&&((e.shiftKey?0===Array.prototype.indexOf.call(u,e.target)?u[u.length-1]:Array.prototype.indexOf.call(u,e.target)-1<0?u[0]:u[Array.prototype.indexOf.call(u,e.target)-1]:-1===Array.prototype.indexOf.call(u,e.target)||Array.prototype.indexOf.call(u,e.target)+1===u.length?u[0]:u[Array.prototype.indexOf.call(u,e.target)+1]).focus(),e.preventDefault())}),i("onInit"))},d}),function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.fpm_treemenu=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function n(e,t){return void 0!==e.classList&&e.classList.contains(t)}function i(){var t=document.querySelectorAll(".flypanels-treemenu a, .flypanels-button-left");document.addEventListener("keydown",function(e){n(document.querySelector("body"),"flypanels-open")&&n(document.querySelector(".flypanels-container"),"openleft")&&9===e.keyCode&&(e.shiftKey?0===Array.prototype.indexOf.call(t,e.target)&&(t[t.length-1].focus(),e.preventDefault()):-1===Array.prototype.indexOf.call(t,e.target)&&(t[0].focus(),e.preventDefault()))})}function c(){(-1<navigator.userAgent.toLowerCase().indexOf("android")||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&document.querySelector(".flypanels-treemenu").classList.add("touch"),s(document.querySelectorAll(".flypanels-treemenu li.haschildren "+d.expandHandler),function(e,t){e.addEventListener("click",function(e){var t;"false"===(t=this.parentElement.parentElement).getAttribute("aria-expanded")?(t.setAttribute("aria-expanded","true"),r(t.querySelector("a.expand"),!0),t.querySelector("ul").setAttribute("aria-hidden","false"),t.querySelector("ul").removeAttribute("hidden"),setTimeout(function(){t.classList.toggle("expanded")},d.transitiontime),u("OnExpandOpen")):(t.setAttribute("aria-expanded","false"),r(t.querySelector("a.expand"),!1),t.querySelector("ul").setAttribute("aria-hidden","true"),t.querySelector("ul").setAttribute("hidden",""),setTimeout(function(){t.classList.toggle("expanded")},d.transitiontime),u("OnExpandClose")),e.preventDefault()})})}function s(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);else for(var o=0,l=e.length;o<l;o++)t.call(n,e[o],o,e)}function r(e,t){t?e.setAttribute("aria-label",e.getAttribute("data-aria-label-active")):e.setAttribute("aria-label",e.getAttribute("data-aria-label"))}function u(e){void 0!==d[e]&&d[e].call(h)}var d,h,m,f={},v=!!document.querySelector&&!!e.addEventListener,y="",p={lihaschildren:null,linochildren:null},g={expandHandler:"a.expand",onInit:function(){},onDestroy:function(){},OnExpandOpen:function(){},OnExpandClose:function(){},OnJSONLoaded:function(){},JSONLoadError:function(){},UseJSON:!1};return f.destroy=function(){d&&(document.documentElement.classList.remove(d.initClass),document.removeEventListener("click",eventHandler,!1),d=null,u("onDestroy"))},f.init=function(e){var n,r,o,t,l,a;v&&(f.destroy(),r=e||{},o={},s(n=g,function(e,t){o[t]=n[t]}),s(r,function(e,t){o[t]=r[t]}),d=o,h=document.querySelector(d.container),d.UseJSON?(t=(e=document.querySelector("#flypanels-treemenu li.haschildren")).querySelector("li.nochildren").parentNode,e.querySelector("ul").remove(),p.lihaschildren=e.parentNode.innerHTML.replace("</li>",""),p.linochildren=t.innerHTML,document.querySelector("#flypanels-treemenu").firstChild.remove(),l=function(e){!function n(e){0<e.length&&(y+='<ul role="group" aria-hidden="true" hidden>',e.forEach(function(e){var t;e.hasOwnProperty("Children")?(t={"{title}":e.Title,"{url}":e.Url,"{count}":e.Children.length},y+=p.lihaschildren.replace(/{title}|{url}|{count}/gi,function(e){return t[e]}),n(e.Children),y+="</li>"):(t={"{title}":e.Title,"{url}":e.Url},y+=p.linochildren.replace(/{title}|{url}/gi,function(e){return t[e]}))}),y+="</ul>")}(m);for(var t=document.querySelector("#flypanels-treemenu");t.firstChild;)t.removeChild(t.firstChild);var n=document.createElement("div");n.innerHTML=y,t.appendChild(n.firstChild),document.querySelector("#flypanels-treemenu ul").removeAttribute("hidden"),document.querySelector("#flypanels-treemenu ul").removeAttribute("aria-hidden"),document.querySelector("#flypanels-treemenu ul").setAttribute("role","tree"),c(),i()},e=document.querySelector("#flypanels-treemenu").getAttribute("data-json"),(a=new XMLHttpRequest).open("GET",e,!0),a.onload=function(){var e;200<=a.status&&a.status<400?!1!==(e=function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t&&null!==t)return t}catch(e){}return console.warn("Error parsing JSON file"),!1}(a.response))&&0<e.treemenu.length?(m=e.treemenu,u("OnJSONLoaded"),l()):(u("JSONLoadError"),console.warn("JSON response empty: "+e)):(u("JSONLoadError"),console.warn("Request error: "+a.status))},a.onerror=function(){u("JSONLoadError"),console.warn("error: "+a)},a.send()):(c(),i()),u("onInit"))},f});