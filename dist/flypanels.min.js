!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.flyPanels=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function y(){document.querySelector(".flypanels-left").style.height=n+"px",document.querySelector(".flypanels-right").style.height=n+"px";var e=document.querySelector(".flypanels-overlay");e&&(e.style.height=n)}function t(){var e=document.body.scrollHeight;return document.documentElement.clientHeight<e}function o(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function p(){c(),i(),w()}function i(){w(),a.classList.add("closing"),s(document.querySelector(".flypanels-button-right"),!1),setTimeout(function(){a.classList.remove("openright"),a.classList.remove("closing");var e=document.querySelectorAll(".flypanels-right .panelcontent");f(e,function(e,t){e.style.display="none",e.setAttribute("aria-hidden","true"),e.removeAttribute("tabindex")}),q()},r.transitiontime)}function c(){w(),a.classList.add("closing"),s(document.querySelector(".flypanels-button-left"),!1),setTimeout(function(){a.classList.remove("closing"),a.classList.remove("openleft");var e=document.querySelectorAll(".flypanels-left .panelcontent");f(e,function(e,t){e.style.display="none",e.setAttribute("aria-hidden","true"),e.removeAttribute("tabindex")}),S()},r.transitiontime)}function m(){var e=document.querySelectorAll(".panelcontent"),e=(f(e,function(t,e){t.addEventListener("touchmove",function(e){t.scrollHeight<=parseInt(n,10)&&e.preventDefault()})}),document.querySelectorAll(".flypanels-button-left")),e=(f(e,function(n,e){n.addEventListener("click",function(e){var t=n.getAttribute("data-panel");l(document.querySelector(".flypanels-container"),"openleft")?c():l(document.querySelector(".flypanels-container"),"openright")?i():(t=t,a.classList.add("openleft"),s(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').style.display="block",document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').setAttribute("aria-hidden","false"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').setAttribute("tabindex","-1"),document.querySelector(".flypanels-left").querySelector('[data-panel="'+t+'"]').focus(),L(),E())})}),document.querySelectorAll(".flypanels-button-right"));f(e,function(o,e){o.addEventListener("click",function(e){var t,n=o.getAttribute("data-panel");l(document.querySelector(".flypanels-container"),"openright")?i():l(document.querySelector(".flypanels-container"),"openleft")?c():(t=n,a.classList.add("openright"),s(document.querySelector(".flypanels-button-right"),!0),document.querySelector(".flypanels-right").querySelector('[data-panel="'+t+'"]').style.display="block",document.querySelector(".flypanels-right").querySelector('[data-panel="'+t+'"]').setAttribute("aria-hidden","false"),setTimeout(function(){document.querySelector(".flypanels-right").querySelector('[data-panel="'+t+'"]').setAttribute("tabindex","-1")},r.transitiontime),A(),E())})}),window.onresize=h,window.addEventListener("orientationchange",function(){y()}),d("OnAttachEvents")}function h(){clearTimeout(void 0),setTimeout(O,100),d("onWindowResize")}function l(e,t){return!(void 0===e.classList||!e.classList.contains(t))}var r,a,v,u={},b=!!document.querySelector&&!!e.addEventListener,n=document.documentElement.clientHeight,g=(document.querySelector(".flypanels-left").clientWidth,document.querySelector(".flypanels-topbar").clientHeight,{transitiontime:500,container:".flypanels-container",initClass:"js-flyPanels",useKeyboardEvents:!0,onInit:function(){},onOpen:function(){},onClose:function(){},onOpenLeft:function(){},onCloseLeft:function(){},onOpenRight:function(){},onCloseRight:function(){},afterWindowResize:function(){},OnAttachEvents:function(){},onWindowResize:function(){},onDestroy:function(){}}),S=function(){document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",d("onCloseLeft")},q=function(){document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),document.querySelector(".flypanels-content").style.marginRight="",d("onCloseRight")},L=function(){!0===t()&&!1===o()&&(document.querySelector(".flypanels-content").style.marginRight=v+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),d("onOpenLeft")},A=function(){!0===t()&&!1===o()&&(document.querySelector(".flypanels-content").style.marginRight=v+"px"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),d("onOpenRight")},E=function(){var e=document.createElement("div");e.classList.add("overlay"),e.setAttribute("id","flypanels-overlay"),document.querySelector(".flypanels-content").appendChild(e),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(e){document.querySelector("#flypanels-overlay").addEventListener(e,function(e){p(),e.preventDefault()})}),d("onOpen")},w=function(){var e=document.querySelector("#flypanels-overlay");null!==e&&(e.classList.add("closing"),setTimeout(function(){e&&e.remove()},r.transitiontime)),d("onClose")},O=function(){n=window.innerHeight,y(),d("afterWindowResize")},s=function(e,t){t?e.setAttribute("aria-label",e.getAttribute("data-aria-label-active")):e.setAttribute("aria-label",e.getAttribute("data-aria-label"))},d=function(e){void 0!==r[e]&&r[e].call(a)},f=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var l=0,i=e.length;l<i;l++)t.call(n,e[l],l,e)};return u.destroy=function(){r&&(document.documentElement.classList.remove(r.initClass),document.removeEventListener("click",eventHandler,!1),r=null,d("onDestroy"))},u.init=function(e){var t,n,o,l;b&&(u.destroy(),(t=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(t),v=t.offsetWidth-t.clientWidth,document.body.removeChild(t),o=e||{},l={},f(n=g,function(e,t){l[t]=n[t]}),f(o,function(e,t){l[t]=o[t]}),r=l,a=document.querySelector(r.container),y(),!0===r.useKeyboardEvents&&document.addEventListener("keydown",function(e){27===e.keyCode&&(c(),i())}),m(),a.classList.remove("preload"),d("onInit"))},u.closePanels=function(){p()},u});